	AREA RESET, DATA, READONLY
	EXPORT __Vectors
__Vectors
	DCD 0x40001000
	DCD Reset_Handler
	ALIGN
	AREA mycode, CODE, READONLY
	ENTRY
	EXPORT Reset_Handler
Reset_Handler
	MOV R0,#3
	MOV R1,#2
	LDR R2,=RES
	
	CMP R0,R1
	BCS UP
	MOV R3,R1
	MOV R7,R3
	B UP2	
	
UP	MOV R3,R0
	MOV R7,R3
	
UP2	BL DIV 
	MOV R3,R7
	BL DIV2
	CMP R5,R6
	BEQ down3
	ADD R7,#1
	MOV R3,R7
	B UP2
down3
	CMP R5,#0
	BEQ final
	ADD R7,#1
	MOV R3,R7
	B UP2
final 
	STR R7,[R2]
STOP B STOP

DIV	CMP R3,R0
	BCC down
	SUB R3,R0
	B DIV	
down
	MOV R5,R3
	BX LR
	
DIV2 CMP R3,R1
	 BCC down2
	 SUB R3,R1
	 B DIV2
down2
	MOV R6,R3
	BX LR
	 
	AREA mydata, DATA, READWRITE
RES DCD 0x0
	END